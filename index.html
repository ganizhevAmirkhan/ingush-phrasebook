<!DOCTYPE html>
<html lang="ru">
<head>
 <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#111111">

<link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32.png">
<link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16.png">
<link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
<meta charset="UTF-8">
<title>–ò–Ω–≥—É—à—Å–∫–∏–π —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω–∏–∫</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="style.css">
</head>

<body>
<script>
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
      navigator.serviceWorker.register("./sw.js").catch(console.error);
    });
  }
</script>

<header class="topbar">
  <div class="title">–ò–Ω–≥—É—à—Å–∫–∏–π —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω–∏–∫</div>

  <div class="search-wrap">
    <input id="global-search" class="search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º —Ñ—Ä–∞–∑–∞–º‚Ä¶">
    <button id="search-btn" class="btn btn-primary">üîç</button>
    <div id="search-results" class="search-results hidden"></div>
  </div>

  <div class="admin-panel">
    <input id="gh-token" type="password" placeholder="GitHub Token">
    <button onclick="adminLogin()" class="btn btn-ghost">–ê–¥–º–∏–Ω</button>
    <span id="admin-status" class="admin-status"></span>
  </div>

  <div class="ai-panel">
    <input id="ai-key" type="password" placeholder="OpenAI API Key">
    <button onclick="saveAiKey()">üíæ</button>
    <span id="ai-status"></span>
  </div>
</header>

<div class="layout">
  <aside class="sidebar">
    <div id="category-list"></div>
  </aside>

  <main class="content">
    <h2 id="content-title">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h2>
    <div id="content"></div>
  </main>
</div>

<!-- MODAL -->
<div id="edit-modal" class="modal hidden">
  <div class="modal-box">

    <label>
      –†—É—Å—Å–∫–∏–π:
      <textarea id="edit-ru"></textarea>
      <button onclick="aiFixRu()">ü§ñ</button>
    </label>

    <label>
      –ò–Ω–≥—É—à—Å–∫–∏–π:
      <textarea id="edit-ing"></textarea>
      <button onclick="aiTranslateIng()">ü§ñ</button>
    </label>

    <label>
      PRON:
      <input id="edit-pron">
      <button onclick="aiMakePron()">ü§ñ</button>
    </label>

    <div class="modal-actions">
      <button onclick="saveEdit()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      <button onclick="closeEdit()">‚ùå –û—Ç–º–µ–Ω–∞</button>
    </div>

  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/lamejs@1.2.0/lame.min.js"></script>
<script src="script.js"></script>
<script src="recorder.js"></script>
</body>
</html>
