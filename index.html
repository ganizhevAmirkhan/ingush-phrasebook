<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Ингушский разговорник</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    body { margin:0; font-family: Arial, sans-serif; background:#f5f5f5; }

    header{
      background:#111; color:#fff;
      padding:10px 12px;
      display:flex; align-items:center; gap:10px;
    }
    header strong{ white-space:nowrap; }

    #search-input{
      flex:1;
      min-width:220px;
      padding:7px 10px;
      border-radius:4px;
      border:0;
      outline:none;
    }
    #search-btn{
      padding:7px 12px;
      cursor:pointer;
      border:0;
      border-radius:4px;
    }

    #gh-token{
      width:190px;
      padding:7px 10px;
      border-radius:4px;
      border:0;
      outline:none;
    }

    #admin-btn{
      padding:7px 12px;
      cursor:pointer;
      border:0;
      border-radius:4px;
    }

    #admin-status{
      margin-left:4px;
      color:#7CFC00;
      font-weight:700;
      white-space:nowrap;
    }

    #container{ display:flex; height: calc(100vh - 52px); }

    #sidebar{
      width:260px;
      background:#eee;
      padding:10px;
      overflow:auto;
      border-right:1px solid #ccc;
    }
    #sidebar h3{ margin:6px 0 10px; }

    .category{
      background:#fff;
      border:1px solid #ddd;
      border-radius:6px;
      padding:9px;
      margin-bottom:7px;
      cursor:pointer;
      user-select:none;
    }
    .category:hover{ background:#f2f2f2; }

    #content-area{
      flex:1;
      padding:15px;
      overflow:auto;
      background:#fff;
    }
    #content-title{ margin:0 0 10px; }

    .phrase{
      background:#fafafa;
      border:1px solid #ddd;
      border-radius:10px;
      padding:12px;
      margin-bottom:12px;
    }
    .phrase button{
      cursor:pointer;
      padding:4px 8px;
      border:1px solid #bbb;
      border-radius:4px;
      background:#fff;
      margin-right:6px;
    }

    .muted{ color:#666; }
  </style>
</head>

<body>

<header>
  <strong>Ингушский разговорник</strong>

  <input id="search-input" type="text" placeholder="Поиск по фразам..." />

  <button id="search-btn" type="button">Искать</button>

  <input id="gh-token" type="password" placeholder="GitHub Token" />

  <button id="admin-btn" type="button">Админ</button>
  <span id="admin-status"></span>
</header>

<div id="container">
  <aside id="sidebar">
    <h3>Категории</h3>
    <div id="category-list"></div>
  </aside>

  <main id="content-area">
    <h2 id="content-title">Выберите категорию</h2>
    <div id="content" class="muted">
      Чтобы искать по всем категориям — введи запрос и нажми «Искать».
    </div>
  </main>
</div>

<!-- ВАЖНО: порядок скриптов -->
<script src="github.js"></script>
<script src="recorder.js"></script>
<script src="script.js"></script>

<script>
  // ✅ Автовставка токена (как ты хотел: чтобы не исчезал после обновления)
  const savedToken = localStorage.getItem("gh_token");
  if (savedToken) document.getElementById("gh-token").value = savedToken;

  // ✅ Кнопка "Админ" — вызывает твою функцию adminLogin()
  document.getElementById("admin-btn").addEventListener("click", () => {
    if (typeof adminLogin === "function") adminLogin();
    else alert("adminLogin() не найдена. Проверь script.js/admin.js");
  });

  // ✅ Поиск: кнопка + Enter
  function runSearch() {
    // Ищем функцию из твоего script.js
    if (typeof searchPhrases === "function") {
      searchPhrases(); // твоя логика
      return;
    }
    if (typeof doSearch === "function") {
      doSearch(); // если у тебя так названо
      return;
    }
    alert("Функция поиска не найдена (searchPhrases/doSearch). Проверь script.js");
  }

  document.getElementById("search-btn").addEventListener("click", runSearch);
  document.getElementById("search-input").addEventListener("keydown", (e) => {
    if (e.key === "Enter") runSearch();
  });
</script>

</body>
</html>
